# py.detect_movement
Проект анализирует видеопоток с камеры, при обнаружении движения отправляет в телеграм кадр, 
на котором зеленым выделены контуры движущегося объекта.

При запуске скрипт откроет окно с потоком от камеры и начнет анализировать движение.
Отображение окна опционально - можно включать и выключать, меняя 
в файле detect_movement.py в функции display_frame_with_motion флаг show_window на True/False

Утилита для отправки текста и изображений в телеграм находится в папке utils,
файл telegram_utils.py, рядом лежит README-telegram_utils.md, в котором описан принцип работы.

На точность распознавания движения влияют несколько параметров, задаются в файле src/camera_setting.py
contour_size - минимальная площадь контура - объекты меньше этого размера не будут учитываться.
              Если нужно распознавать мелкие объекты, которые далеко, то значение можно выставить в 30.
              В обычных случаях достаточно значения в 200.

ball_size_for_remove_noises - размер ядра для удаления мелких шумов. Больший размер ядра может уменьшить шум, 
                              но может также удалять мелкие детали. 
                              Маленькие размеры ядер (например, 5) имеет смысл задавать для удаления мелких шумов и деталей. 
                              Если задано маленькое ядро, то это помогает сохранить общую структуру объектов и удалить маленькие артефакты.

ball_size_for_for_filling_holes - размер ядра для заполнения внутренних дыр. 
                              Они нужны, чтобы заполнить внутренние полости объектов
                              и объединить близлежащие объекты в один. Это помогает устранить мелкие отверстия в объектах 
                              и сгладить их границы. По умолчанию задано в 8.


